import{r as i,u as j,j as e,N as v,q as w,_ as g}from"./index-1QU3Pa5u.js";import{A as N}from"./AdvantagesSection-B3Vb-73H.js";import{c as y,b as u,u as k,I as S,o as F}from"./index.esm-BeecrS5H.js";import{u as P,L as W,a as T}from"./LocalizationSwitcher-aZuez5rg.js";const A="_signinWrapper_1kn1t_1",L="_mainText_1kn1t_7",$="_labelText_1kn1t_17",E="_formGroup_1kn1t_26",H="_inputField_1kn1t_33",q="_error_1kn1t_47",B="_submitBtn_1kn1t_58",G="_dontHaveAcc_1kn1t_79",M="_navigate_1kn1t_88",R="_eyeIcon_1kn1t_95",s={signinWrapper:A,mainText:L,labelText:$,formGroup:E,inputField:H,error:q,submitBtn:B,dontHaveAcc:G,navigate:M,eyeIcon:R},C=y().shape({email:u().email("Must be a valid email!").required("Required"),password:u().min(6,"Too short!").required("Required")}),V=()=>{const o=i.useId(),l=i.useId(),_=j(),[c,h]=i.useState(!1),x=()=>{h(r=>!r)},{register:d,handleSubmit:f,formState:{errors:n}}=k({mode:"onChange",defaultValues:{email:"",password:""},resolver:F(C)}),I=async r=>{try{const{email:m,password:b}=r,p=await _(w({email:m,password:b}));p.error&&g.error(p.payload.response.data.message||"Login failed")}catch{g.error("Something went wrong")}},{t:a}=P();return e.jsxs(e.Fragment,{children:[e.jsx(W,{}),e.jsx(T,{}),e.jsxs("div",{className:s.signinWrapper,children:[e.jsx("p",{className:s.mainText,children:a("description.signIn.MainHeader")}),e.jsxs("form",{className:s.form,onSubmit:f(I),children:[e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{htmlFor:o,className:s.labelText,children:a("description.signIn.EmailLabel")}),e.jsx("input",{id:o,...d("email"),type:"email",placeholder:a("description.signIn.EmailPlaceholder"),className:`${s.inputField} ${n.email?"loginError":""}`}),n.email&&e.jsx("div",{className:s.error,children:n.email.message})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{htmlFor:l,className:s.labelText,children:a("description.signIn.PwdLabel")}),e.jsx("input",{id:l,...d("password"),type:c?"text":"password",placeholder:a("description.signIn.PwdPlaceholder"),className:`${s.inputField} ${n.password?"loginError":""}`}),e.jsx(S,{width:20,height:20,iconName:c?"eye-on":"eye-off",styles:s.eyeIcon,onClick:x}),n.password&&e.jsx("div",{className:s.error,children:n.password.message})]}),e.jsx("button",{type:"submit",className:s.submitBtn,children:a("description.signIn.MainButton")})]}),e.jsxs("p",{className:s.dontHaveAcc,children:[a("description.signIn.AllreadyHaveAcc"),e.jsx(v,{to:"/signup",className:s.navigate,children:a("description.signIn.SignInLink")})]})]})]})},z="_signInPageWrapper_1t6af_1",D="_formWrapper_1t6af_7",J="_disabled_1t6af_16",t={signInPageWrapper:z,formWrapper:D,disabled:J},X=()=>e.jsxs("div",{className:t.signInPageWrapper,children:[e.jsx("div",{className:t.formWrapper,children:e.jsx(V,{})}),e.jsx("div",{className:t.disabled,children:e.jsx(N,{})})]});export{X as default};
