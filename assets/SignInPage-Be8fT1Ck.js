import{r as n,b as f,j as e,N as I,L as w,v as N,_ as v}from"./index-2vJlCBpy.js";import{A as y}from"./AdvantagesSection-e0eQXsFf.js";import{c as z,b as g,u as T,I as S,o as F}from"./index.esm-BZrsPoMn.js";import{u as P,L as W,a as A}from"./LocalizationSwitcher-GZl2C-Yb.js";const L="_signinWrapper_ezrvv_1",$="_mainText_ezrvv_8",E="_labelText_ezrvv_18",H="_formGroup_ezrvv_27",B="_inputField_ezrvv_35",G="_error_ezrvv_49",k="_submitBtn_ezrvv_60",q="_dontHaveAcc_ezrvv_82",M="_navigate_ezrvv_92",R="_eyeIcon_ezrvv_99",C="_googleAuth_ezrvv_106",V="_divider_ezrvv_112",D="_dividerText_ezrvv_118",s={signinWrapper:L,mainText:$,labelText:E,formGroup:H,inputField:B,error:G,submitBtn:k,dontHaveAcc:q,navigate:M,eyeIcon:R,googleAuth:C,divider:V,dividerText:D},J=z().shape({email:g().email("Must be a valid email!").required("Required"),password:g().min(6,"Too short!").required("Required")}),K=()=>{const t=n.useId(),l=n.useId(),_=f(),[c,u]=n.useState(!1),h=()=>{u(i=>!i)},{register:d,handleSubmit:x,formState:{errors:a}}=T({mode:"onChange",defaultValues:{email:"",password:""},resolver:F(J)}),j=async i=>{try{const{email:m,password:b}=i,p=await _(N({email:m,password:b}));p.error&&v.error(p.payload.response.data.message||"Login failed")}catch{v.error("Something went wrong")}},{t:r}=P();return e.jsxs(e.Fragment,{children:[e.jsx(W,{}),e.jsx(A,{}),e.jsxs("div",{className:s.signinWrapper,children:[e.jsx("p",{className:s.mainText,children:r("description.signIn.MainHeader")}),e.jsxs("div",{children:[e.jsxs("form",{className:s.form,onSubmit:x(j),children:[e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{htmlFor:t,className:s.labelText,children:r("description.signIn.EmailLabel")}),e.jsx("input",{id:t,...d("email"),type:"email",placeholder:r("description.signIn.EmailPlaceholder"),className:`${s.inputField} ${a.email?"loginError":""}`}),a.email&&e.jsx("div",{className:s.error,children:a.email.message})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{htmlFor:l,className:s.labelText,children:r("description.signIn.PwdLabel")}),e.jsx("input",{id:l,...d("password"),type:c?"text":"password",placeholder:r("description.signIn.PwdPlaceholder"),className:`${s.inputField} ${a.password?"loginError":""}`}),e.jsx(S,{width:20,height:20,iconName:c?"eye-on":"eye-off",styles:s.eyeIcon,onClick:h}),a.password&&e.jsx("div",{className:s.error,children:a.password.message})]}),e.jsx("button",{type:"submit",className:s.submitBtn,children:r("description.signIn.MainButton")})]}),e.jsxs("p",{className:s.dontHaveAcc,children:[r("description.signIn.AllreadyHaveAcc"),e.jsx(I,{to:"/signup",className:s.navigate,children:r("description.signIn.SignInLink")})]})]}),e.jsx(w,{to:"/privacy-policy",children:"Політика конфіденційності"})]})]})},O="_signInPageWrapper_1t6af_1",Q="_formWrapper_1t6af_7",U="_disabled_1t6af_16",o={signInPageWrapper:O,formWrapper:Q,disabled:U},se=()=>e.jsxs("div",{className:o.signInPageWrapper,children:[e.jsx("div",{className:o.formWrapper,children:e.jsx(K,{})}),e.jsx("div",{className:o.disabled,children:e.jsx(y,{})})]});export{se as default};
